import{B as D}from"./chunks/BoksController.GGkVg0KA.js";import{_ as A,o as n,c as l,j as s,t as e,e as u,N as S,F as m,B as f,n as x,a as _,p,E as q,ae as L}from"./chunks/framework.D3-KqAlt.js";const R={class:"boks-demo"},N={class:"card"},T={class:"row"},V=["disabled"],I={key:0,class:"status success"},H={key:1,class:"status"},P={key:0,class:"card"},$={class:"info-grid"},U={class:"info-item"},W={class:"value"},j={class:"info-item"},z={class:"value"},M={class:"info-item"},O={class:"value"},Y={class:"info-item"},J={class:"value"},G={key:1,class:"card"},K={class:"header-row"},Q=["disabled"],X={class:"gauge-container"},Z={class:"gauge-text"},ss={key:0,class:"stats-table"},as={key:0},is={key:0,class:"details-grid"},ts={class:"detail-label"},es={class:"detail-value"},ns={class:"logs"},ls={class:"log-container"},rs={class:"time"},hs={__name:"BatteryDemo",setup(B){const g=typeof window<"u",t=p(!1),C=p(""),c=p(null),h=p(null),o=p(null),v=p([]),d=p(!1);let k=null;function r(i,a="info"){v.value.unshift({time:new Date().toLocaleTimeString(),msg:i,type:a})}async function b(){if(g){d.value=!0;try{r("Requesting Bluetooth device..."),k=new D,r("Connecting..."),await k.connect(),t.value=!0,o.value=k.hardwareInfo,C.value="Boks Device",r("Connected successfully!","success"),await F()}catch(i){r(`Connection failed: ${i.message}`,"error"),console.error(i),t.value=!1}finally{d.value=!1}}}async function F(){if(!(!k||!t.value)){d.value=!0;try{r("Reading standard battery level...");const i=await k.getBatteryLevel();c.value=i,r(`Standard Battery Level: ${i!==void 0?i+"%":"Unknown"}`),r("Reading detailed battery stats...");const a=await k.getBatteryStats();h.value=a,a?r("Battery stats updated.","success"):r("Detailed stats unavailable.","warning")}catch(i){r(`Failed to refresh battery: ${i.message}`,"error")}finally{d.value=!1}}}function w(i){return i==null?"var(--vp-c-gray-1)":i>60?"var(--vp-c-green-1)":i>20?"var(--vp-c-yellow-1)":"var(--vp-c-red-1)"}return(i,a)=>(n(),l("div",R,[s("div",N,[a[0]||(a[0]=s("h3",null,"1. Connection",-1)),s("div",T,[s("button",{onClick:b,disabled:t.value||d.value,class:"primary-btn"},e(t.value?"Connected":"Scan & Connect"),9,V),t.value?(n(),l("span",I,"Connected")):(n(),l("span",H,"Not connected"))])]),t.value&&o.value?(n(),l("div",P,[a[5]||(a[5]=s("h3",null,"2. Hardware Information",-1)),s("div",$,[s("div",U,[a[1]||(a[1]=s("span",{class:"label"},"Hardware Version",-1)),s("span",W,e(o.value.hardwareVersion),1)]),s("div",j,[a[2]||(a[2]=s("span",{class:"label"},"Firmware Revision",-1)),s("span",z,e(o.value.firmwareRevision),1)]),s("div",M,[a[3]||(a[3]=s("span",{class:"label"},"Software Revision",-1)),s("span",O,e(o.value.softwareRevision),1)]),s("div",Y,[a[4]||(a[4]=s("span",{class:"label"},"Chipset",-1)),s("span",J,e(o.value.chipset),1)])])])):u("",!0),t.value?(n(),l("div",G,[s("div",K,[a[6]||(a[6]=s("h3",null,"3. Battery Status",-1)),s("button",{onClick:F,disabled:d.value,class:"secondary-btn small"}," Refresh ",8,Q)]),s("div",X,[s("div",{class:"gauge-fill",style:S({width:(c.value||0)+"%",backgroundColor:w(c.value)})},null,4),s("span",Z,e(c.value!==void 0?c.value+"%":"Unknown"),1)]),h.value?(n(),l("div",ss,[a[10]||(a[10]=s("h4",null,"Detailed Statistics",-1)),s("table",null,[s("tbody",null,[s("tr",null,[a[7]||(a[7]=s("td",null,"Format",-1)),s("td",null,[s("code",null,e(h.value.format),1)])]),s("tr",null,[a[8]||(a[8]=s("td",null,"Main Level",-1)),s("td",null,e(h.value.level)+"%",1)]),h.value.temperature!==void 0?(n(),l("tr",as,[a[9]||(a[9]=s("td",null,"Temperature",-1)),s("td",null,e(h.value.temperature)+"°C",1)])):u("",!0)])]),h.value.details?(n(),l("div",is,[(n(!0),l(m,null,f(h.value.details,(E,y)=>(n(),l("div",{key:y,class:"detail-item"},[s("span",ts,e(y),1),s("span",es,e(E),1)]))),128))])):u("",!0)])):u("",!0)])):u("",!0),s("div",ns,[a[11]||(a[11]=s("h4",null,"Logs",-1)),s("div",ls,[(n(!0),l(m,null,f(v.value,(E,y)=>(n(),l("div",{key:y,class:x(["log-entry",E.type])},[s("span",rs,"["+e(E.time)+"]",1),_(" "+e(E.msg),1)],2))),128))])])]))}},ps=A(hs,[["__scopeId","data-v-2addbccb"]]),cs=JSON.parse('{"title":"Battery & Hardware","description":"","frontmatter":{},"headers":[],"relativePath":"examples/battery.md","filePath":"examples/battery.md"}'),os={name:"examples/battery.md"},Es=Object.assign(os,{setup(B){return(g,t)=>(n(),l("div",null,[t[0]||(t[0]=s("h1",{id:"battery-hardware",tabindex:"-1"},[_("Battery & Hardware "),s("a",{class:"header-anchor",href:"#battery-hardware","aria-label":'Permalink to "Battery & Hardware"'},"​")],-1)),t[1]||(t[1]=s("p",null,"This example demonstrates how to retrieve hardware information and battery statistics from a Boks device.",-1)),q(ps),t[2]||(t[2]=L(`<h2 id="code-usage" tabindex="-1">Code Usage <a class="header-anchor" href="#code-usage" aria-label="Permalink to &quot;Code Usage&quot;">​</a></h2><p>You can access hardware information and battery levels using the <code>BoksController</code>.</p><h3 id="hardware-information" tabindex="-1">Hardware Information <a class="header-anchor" href="#hardware-information" aria-label="Permalink to &quot;Hardware Information&quot;">​</a></h3><p>When you connect to a device, the controller automatically retrieves the firmware revision and deduces the hardware version.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { BoksController } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;boks-sdk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BoksController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Access cached hardware info</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller.hardwareInfo;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (info) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HW Version:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, info.hardwareVersion); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// e.g., &quot;4.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;FW Revision:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, info.firmwareRevision); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// e.g., &quot;10/125&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Chipset:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, info.chipset); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// e.g., &quot;nRF52833&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="battery-levels" tabindex="-1">Battery Levels <a class="header-anchor" href="#battery-levels" aria-label="Permalink to &quot;Battery Levels&quot;">​</a></h3><p>You can request the standard battery level (0-100%) or detailed statistics provided by the custom Boks service.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Standard Bluetooth Battery Level</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBatteryLevel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Battery: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}%\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Detailed Boks Battery Statistics</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBatteryStats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (stats) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Main Level: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}%\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Temperature: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">temperature</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}°C\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Advanced details (min, max, mean, etc.)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Details:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stats.details);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Battery statistics are read from a custom characteristic and provide more insight than the standard service, including temperature and historical measures.</p></div>`,9))]))}});export{cs as __pageData,Es as default};
